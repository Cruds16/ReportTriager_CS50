<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- CSS style -->
    <link rel="stylesheet" href="/static/css/dashboard_style.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&family=Spartan:wght@600;700;900&family=Titillium+Web:wght@400;600;900&display=swap" rel="stylesheet">
    <title>Report details</title>
</head>
<body>
    <main>
    <!-- Side Nav -->
    {% include 'navbar.html' %}
    
      <div class="container-fluid p-0 report-details scrollable">
        <div class="row w-100 h-100 m-0">
            <div class="col-lg-4 col-md-6 col-sm-12 bg-light">
              <div class="delete-report">
              <h2>REPORT DETAILS</h2>
              <a href="{{ url_for('delete_report', report_id=report_id) }}" class="btn btn-outline-light">Delete report</a>
              </div>

                <form class="form form-horizontal center" method="post" role="form">
                  {{ form.hidden_tag() }}
                  {{ form.csrf_token }}
                  <table class="table table-borderless table-sm">
                  <tr>
                    <td>{{ form.date_received.label }}</td>
                    <td>{{ form.date_received }}</tr></td>
                  <tr>
                    <td>{{ form.day_zero.label }}</td>
                    <td>{{ form.day_zero }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.case_version.label }}</td>
                    <td>{{ form.case_version }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.case_id.label }}</td>
                    <td>{{ form.case_id }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.other_case_id.label }}</td>
                    <td>{{ form.other_case_id }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.serious.label }}</td>
                    <td>{{ form.serious }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.listed.label }}</td>
                    <td>{{ form.listed }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.expedited.label }}</td>
                    <td>{{ form.expedited }}</td>
                  </tr>
                  <tr>
                    <td>{{ form.exchange.label }}</td>
                    <td>{{ form.exchange }}</td>
                  </tr>
                  <tr>                  
                    <td>{{ form.comments.label }}</td>
                    <td>{{ form.comments }}</td>
                  </tr>
                  <tr>
                    <td></td>
                    <td>{{ form.submit }}</td>
                  </tr>
                </table>
                </form>

            </div>
            <div class="col-lg-4 col-md-6 col-sm-12 bg-primary">
                <h2>ADD 'TO DO'</h2>
                
                <form class="form form-horizontal center" method="post" role="form">
                  {{ new_task.hidden_tag() }}
                  {{ new_task.csrf_token }}
                  <table class="table table-borderless table-sm">
                    <tr>
                      <td>{{ new_task.task_name.label }}</td>
                      <td>{{ new_task.task_name }}</td>
                    </tr>
                    <tr>
                      <td>{{ new_task.task_owner.label }} </td>
                      <td>{{ new_task.task_owner }}</td>
                    </tr>
                    <tr>
                      <td>{{ new_task.due_date.label }}</td>
                      <td>{{ new_task.due_date }}</td>
                    </tr>
                    <tr>
                      <td>{{ new_task.task_comments.label }}</td>
                      <td>{{ new_task.task_comments }}</td>
                    </tr>
                    <tr>
                      <td></td>
                      <td>{{ new_task.submit }}</td>
                    </tr>
                  </table>
                  </form>
            </div>

            <div class="col-lg-4 col-md-12 col-sm-12 bg-secondary scrollable">
              <h2>TO DO's LIST</h2>
              
              {% for task in report_tasks %}
              <div class="card todo-card center" style="width: 18rem;">
                <div class="card-body">
                  <h5 class="card-title">{{ task.task_name }} by {{ task.due_date }}</h5>
                  <h6 class="card-subtitle mb-2 text-muted">{{ task.taskowner.username }}</h6>
                  <p class="card-text">{{ task.task_comments }}</p>
                  {% if task.completed == True %}
                  <p class="card-text" style="color: green">Task Completed</p>
                  {% else %}
                  <p class="card-text" style="color: orange">Pending</p>
                  {% endif %}
                  <a href="{{ url_for('complete_task', task_id=task.id) }}" class="card-link">Mark completed</a>
                  <a href="{{ url_for('edit_task', task_id=task.id) }}" class="card-link">Edit task</a>
                </div>
              </div>
              {% endfor %}
          </div>
        </div>
      </div>

    </main>


    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>